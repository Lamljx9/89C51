C51 COMPILER V9.56.0.0   MAIN                                                              12/30/2017 20:18:40 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil_C51\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <reg52.h>
   2          
   3          
   4          /*************************************************************************
   5          - Function    : LCD1602 ¹ö¶¯ÏÔÊ¾×Ö·û
   6          - Description : µÚÒ»ÐÐ ÓÒ²àÒÆÈë Hello Everyone£¡
   7                          Í¬Ê±µÚ¶þÐÐ ×ó²àÒÆÈë Welcome To Here£¡È»ºóÍ£ÁôÔÚÆÁÄ»ÉÏ
   8          - Hardware    : LCD EN - P3.5  LCD RS - P3.5
   9          - Author      : Y.
  10          - Date        : 2017.12
  11           *************************************************************************/
  12           
  13           
  14          /* ¶¨Òå³£ÓÃ±äÁ¿ÀàÐÍ */
  15          typedef unsigned char u8;
  16          typedef unsigned int u16;
  17          
  18          /* Î»±äÁ¿ÉùÃ÷ */
  19          sbit lcden = P3^4;                                 // Òº¾§ Ê¹ÄÜ¶Ë
  20          sbit lcdrs = P3^5;                                 // Òº¾§ Êý¾Ý/ÃüÁî Ñ¡Ôñ¶Ë
  21          
  22          /* È«¾Ö±äÁ¿ */
  23          u8 code line1[] = "Hello EveryOne!";
  24          u8 code line2[] = "Welcome To Here!";
  25          u8 num;
  26          
  27          /* ÉùÃ÷×Óº¯Êý */
  28          void delay(u16);
  29          void init();
  30          void write_com(u8);
  31          void write_data(u8);
  32          
  33          
  34          /*************************************************************************
  35           Function    : Ö÷³ÌÐò
  36           Description : None 
  37          **************************************************************************/                                                      
  38          void main()
  39          {
  40   1              init();
  41   1              write_com(0x80+0x10);                           // Ð´ÔÚµÚÒ»ÐÐ ·ÇÏÔÊ¾Çø
  42   1              for(num=0;num<15;num++)
  43   1              {
  44   2                      write_data(line1[num]);
  45   2                      delay(5);
  46   2              }
  47   1      
  48   1              write_com(0x80+0x50);                           // Ð´ÔÚµÚ¶þÐÐ ·ÇÏÔÊ¾Çø
  49   1              for(num=0;num<16;num++)
  50   1              {
  51   2                      write_data(line2[num]);
  52   2                      delay(5);
  53   2              }
  54   1      
  55   1              for(num=0;num<16;num++)
C51 COMPILER V9.56.0.0   MAIN                                                              12/30/2017 20:18:40 PAGE 2   

  56   1              {
  57   2                      write_com(0x18);                            // ÀûÓÃÕûÆÁ×óÒÆÖ¸Áî ×óÒÆ16¸ö×Ö·û
  58   2                      delay(100);                                 // ×óÒÆËÙ¶È
  59   2              }
  60   1              while(1);
  61   1      }
  62          
  63          /*************************************************************************
  64           Function    : LCD ÃüÁîÐ´Èë
  65           Description : NONE
  66          **************************************************************************/
  67          void write_com(u8 com)
  68          {
  69   1              lcdrs = 0;                                      // Ñ¡Ôñ Ð´ÃüÁî Ä£Ê½
  70   1              P0 = com;                                       // ½« ÃüÁî ËÍÈëÊý¾Ý×ÜÏß
  71   1              delay(5);                                       // ÉÔ×÷ÑÓÊ± µÈ´ýÊý¾ÝÎÈ¶¨
  72   1              lcden = 1;                                      // Ê¹ÄÜ ¸ßÂö³å £¨³õÊ¼»¯ÖÃ0£©
  73   1              delay(5);                                       // ÑÓÊ±
  74   1              lcden = 0;                                      // Ê¹ÄÜ ÖÃ0 Íê³É¸ßÂö³å
  75   1      }
  76          
  77          /*************************************************************************
  78           Function    : LCD Êý¾ÝÐ´Èë
  79           Description : NONE
  80          **************************************************************************/
  81          void write_data(u8 date)
  82          {
  83   1              lcdrs = 1;                                      // Ñ¡Ôñ Ð´Êý¾Ý Ä£Ê½
  84   1              P0 = date;                                      // ½« Êý¾Ý ËÍÈëÊý¾Ý×ÜÏß
  85   1              delay(5);                                       // ÉÔ×÷ÑÓÊ± µÈ´ýÊý¾ÝÎÈ¶¨
  86   1              lcden = 1;                                      // Ê¹ÄÜ ¸ßÂö³å £¨³õÊ¼»¯ÖÃ0£©
  87   1              delay(5);                                       // ÑÓÊ±
  88   1              lcden = 0;                                      // Ê¹ÄÜ ÖÃ0 Íê³É¸ßÂö³å
  89   1      }
  90                  
  91          /*************************************************************************
  92           Function    : ³õÊ¼»¯×Ó³ÌÐò
  93           Description : NONE
  94          **************************************************************************/
  95          void init()
  96          {
  97   1              lcden = 0;
  98   1              write_com(0x38);                                // ÉèÖÃ  (0x38) 16*2ÏÔÊ¾ 5*7µãÕó 8Î»Êý¾Ý¿Ú    //²»ÉèÖÃÄ¬È
             -ÏÏÔÊ¾Ò»ÐÐ
  99   1              write_com(0x0c);                                // ÉèÖÃ  (1111) 1.¿ªÏÔÊ¾  2.ÏÔÊ¾¹â±ê    //(X0XX) ¹ØÏÔÊ¾  
             -(1110) ¹â±êÏÔÊ¾µ«²»ÉÁË¸  (1101)  ¹â±ê²»ÏÔÊ¾µ«ÉÁË¸
 100   1              write_com(0x06);                                // ÉèÖÃ  (0110) 1.Ð´Ò»¸ö×Ö·ûÖ¸Õë¼ÓÒ»  2.ÏÔÊ¾²»ÒÆ¶¯
 101   1              write_com(0x01);                                // ÏÔÊ¾ÇåÆÁ  Ö¸ÕëÇåÆÁ
 102   1      }
 103          
 104          /*************************************************************************
 105           Function    : ÑÓÊ±×Ó³ÌÐò
 106           Description : NONE
 107          **************************************************************************/
 108          void delay(u16 xms)
 109          {
 110   1              u16 x,y;
 111   1              for(x=xms;x>0;x--)
 112   1              {
 113   2                      for(y=125;y>0;y--);
 114   2              }
 115   1      }
C51 COMPILER V9.56.0.0   MAIN                                                              12/30/2017 20:18:40 PAGE 3   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    173    ----
   CONSTANT SIZE    =     33    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
